
---
title:    "Ejercicio pr√°ctico An√°lisis Factorial"
license:  by-nc-sa
urlcolor: blue
output:
  word_document:  default
  html_document: 
    theme:        cosmo 
    highlight:    tango 
    toc:          true
    toc_float:    true
    code_folding: show
  epuRate::epurate:
    toc:             TRUE
    number_sections: FALSE
    code_folding:    "show"
  pdf_document:   default
---

<style>
body {
text-align: justify}
</style>

# 1. Planteamiento del problema

Para este ejercicio nos enfocaremos en un set de datos que representa la calidad de distintos tipos de vino tinto portugu√©s. Dicha calidad se determina en funci√≥n de distintos atributos que caracterizan cada tipo de vino. Mediante el An√°lisis Factorial, exploraremos la posibilidad de clasificarlos en base a distintas caracter√?sticas del propio vino, tales como el porcentaje de alcohol o su densidad.

El subconjunto de variables del dataset original que utilizaremos son las siguientes:

* **residual.sugar**: la cantidad de az√∫car que queda despu√©s de la fermentaci√≥n, es raro encontrar vinos con menos de 1 gramo/litro y los vinos con m√°s de 45 gramos/litro se consideran dulces.
* **density**: la densidad del vino se aproxima a la del agua en funci√≥n del porcentaje de alcohol y del contenido de az√∫car.
* **pH**: describe el grado de acidez o base de un vino en una escala de 0 (muy √°cido) a 14 (muy b√°sico); la mayor√?a de los vinos se sit√∫an entre 3 y 4 en la escala de pH.
* **alcohol**: el porcentaje de alcohol que contiene el vino.
* **citric.acid**: encontrado en peque√±as cantidades, el √°cido c√?trico puede a√±adir frescura y sabor a los vinos.
* **volatile.acidity**: la cantidad de √°cido ac√©tico en el vino, que en niveles demasiado altos puede producir un sabor desagradable a vinagre.

Podr·s encontrar el dataset en el apartado de 'Material Complementario', carpeta Data con el nombre: 4.2_PCA_AF_ejercicio.csv. AsÌ pues, lo primero que haremos ser· cargar el dataset en R.

As√? pues, lo primero que haremos es cargar el dataset en R:

```{r,warning=FALSE,message=FALSE}
# Carga del dataset

```

## 1.1 Preparaci√≥n del dataset.

Tal y como podr√°s comprobar, el dataset contiene variables que no necesitamos para el ejercicio, por lo que hay que seleccionar √∫nicamente las definidas en el apartado anterior.

* **Ejercicio 1**: Selecciona las variables a utilizar definidas en el apartado anterior del dataset original.

```{r,warning=FALSE,message=FALSE}
# Indexo variables necesarias para el ejercicio

```

## 1.2 An√°lisis Factorial.

Una vez dispongas del dataset preparado, realiza el An√°lisis Factorial para 2 factores utilizando la funci√≥n factanal.

```{r}
# C√°lculo del An√°lisis de Factores

```

* **Ejercicio 2**: Podr√?as indicar qu√© variables no est√°n bien representadas por los factores? Justifica tu respuesta

```{r}
print('Indica aqu√? tu respuesta')
```

* **Ejercicio 3**: Imprime la singularidad de cada variable. 

```{r}
# Singularidad de cada variable

```

* **Ejercicio 4**: ¬øQu√© variables est√°n contribuyendo m√°s a cada uno de los factores? Justifica tu respuesta.

```{r}
print('Indica aqu√? tu respuesta')
```

* **Ejercicio 5**: ¬øQu√© proporci√≥n de la varianza est√° explicada por cada factor? Siguiendo la regla de Kaiser, mantendr√?as los dos factores?

```{r}
print('Indica aqu√? tu respuesta')
```

## 1.3 Matriz de Residuos.

* **Ejercicio 6**: Imprime la matriz de residuos e interpreta los resultados.¬øQu√© variables est√°n mejor representadas en los factores seg√∫n los valores de la matriz?

```{r}
# Matriz de cargas

# Matriz de singularidades

# Matriz de correlaciones observada

# Creaci√≥n de la matriz de correlaciones ajustada

# Creaci√≥n de la matriz de residuos

```

## 1.4 Interpretaci√≥n de los factores.

* **Ejercicio 7**: Ajusta tres modelos factoriales, uno sin rotaci√≥n, uno con rotaci√≥n varimax y uno con rotaci√≥n promax, y haz una gr√°fica de dispersi√≥n del factor 1 y el 2 para cada uno de ellos. Representa el valor de cada punto con el nombre de la variable.

```{r}
# Creaci√≥n de 3 modelos distintos modificando la rotaci√≥n

# Definici√≥n del output gr√°fico (3 gr√°ficos en 1 fila)

# Primer gr√°fico: sin rotaci√≥n

# Texto de color rojo para el gr√°fico primero

# Segundo gr√°fico: rotacion = varimax

# Texto de color azul para el gr√°fico segundo

# Tercer gr√°fico: rotacion = promax

# Texto de color negro para el gr√°fico tercero

```

* **Ejercicio 8**: Interpreta los resultados. Podr√?as indicar qu√© caracter√?sticas representan mejor al factor 1 y al factor 2 y como se podr√?a interpretar en funci√≥n del significado que contienen? Si tuvieras que darle un nombre comercial a cada uno de los dos factores, que nombres les otorgar√?as?

```{r}
print('Indica aqu√? tu respuesta')
```

## 1.4 Puntuaci√≥n del del ejercicio

Este ejercicio se puntuar√° con 10 puntos, siendo el m√?nimo necesario para superar la prueba de 5 puntos.

La puntuaci√≥n es la siguiente:

* Ejercicio 1: 0.5 punto

* Ejercicio 2: 0.75 puntos

* Ejercicio 3: 0.75 puntos

* Ejercicio 4: 1.5 puntos

* Ejercicio 5: 1 puntos

* Ejercicio 6: 1 punto

* Ejercicio 7: 1.5 puntos

* Ejercicio 8: 3 puntos
